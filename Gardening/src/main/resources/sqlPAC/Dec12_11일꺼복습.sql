
-- REPLACE 와 TRANSLATE : 34PAGE
-- TRANSLATE
SELECT VAR_PHONE ORG_STR
	, TRANSLATE(VAR_PHONE, ' 0123456789', ' ') TST_1
	, TRANSLATE(VAR_PHONE, '0123456789' || VAR_PHONE, '0123456789') TST_2
FROM(
SELECT '안9녕8하7세6요5 4H3 2입1니0다' AS VAR_PHONE
FROM DUAL);


-- TRANSLATE 예제 만들어보기
-- 원하는 출력값 : 박루디아

SELECT R_STR 
	, TRANSLATE(R_STR, ' 0123456789가나Hㄴ' , ' ') NM 
	, DECODE(TRANSLATE(R_STR, ' 0123456789가나Hㄴ' , ' '), '박루디아', '여자', '남자') GENDER
FROM (
	SELECT '가나박12루0디1Hㄴ아' AS R_STR FROM DUAL
)



-- GREATEST VS MAX / LEAST VS MIN : 37PAGE
-- 오류잡기 

SELECT NAME , CLASS
		, TO_CHAR(KOR) KOR
		, TO_CHAR(ENG) ENG
		, TO_CHAR(MAT) MAT
		, TO_CHAR(GREATEST(KOR,ENG,MAT)) MAX_SCORE
		, TO_CHAR(LEAST(KOR,ENG,MAT)) MIN_SCORE
FROM 
EXAM_RSLT;
UNION ALL
SELECT 
	'전체'
	, NULL 
	, 'KOR :' || MAX(KOR)
	, 'ENG :' || MAX(ENG)
	, 'MAT :' || MAX(MAT)
	, NULL
	, NULL
FROM EXAM_RSLT;


-- 패턴체크 



-- 정규식 실습 : 44PAGE

SELECT REGEXP_SUBSTR('KOR08-203-4058930-ENG22-20948-20123-44-DFDD', '([[:digit:]]+\-)+[[:digit:]]+',1,1) ONE
  , REGEXP_SUBSTR('KOR08-203-4058930-ENG22-20948-20123-44-DFDD', '([[:digit:]]+\-)+[[:digit:]]+',1,2) TWO
  , REGEXP_SUBSTR('KOR08-203-4058930-ENG22-20948-20123-44-DFDD', '([[:digit:]]+\-)+[[:digit:]]+',1,3) THREE
  , REGEXP_COUNT('KOR08-203-4058930-ENG22-20948-20123-44-DFDD', '[[:digit:]]') FOUR
  , REGEXP_INSTR('KOR08-203-4058930-ENG22-20948-20123-44-DFDD', '([[:digit:]]+\-)+[[:digit:]]+',1,1) FIVE
FROM DUAL; 





